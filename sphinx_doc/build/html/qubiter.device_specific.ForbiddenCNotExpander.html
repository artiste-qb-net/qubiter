

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>qubiter.device_specific.ForbiddenCNotExpander module &mdash; qubiter 1.0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> qubiter
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="rosetta.html">Qubiter Rosetta Stone</a></li>
<li class="toctree-l1"><a class="reference internal" href="classgraph.html">Qubiter’s Class Graph</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">qubiter</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>qubiter.device_specific.ForbiddenCNotExpander module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/qubiter.device_specific.ForbiddenCNotExpander.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-qubiter.device_specific.ForbiddenCNotExpander">
<span id="qubiter-device-specific-forbiddencnotexpander-module"></span><h1>qubiter.device_specific.ForbiddenCNotExpander module<a class="headerlink" href="#module-qubiter.device_specific.ForbiddenCNotExpander" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="qubiter.device_specific.ForbiddenCNotExpander.ForbiddenCNotExpander">
<em class="property">class </em><code class="sig-prename descclassname">qubiter.device_specific.ForbiddenCNotExpander.</code><code class="sig-name descname">ForbiddenCNotExpander</code><span class="sig-paren">(</span><em class="sig-param">file_prefix</em>, <em class="sig-param">num_bits</em>, <em class="sig-param">c_to_tars</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/qubiter/device_specific/ForbiddenCNotExpander.html#ForbiddenCNotExpander"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qubiter.device_specific.ForbiddenCNotExpander.ForbiddenCNotExpander" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="qubiter.EchoingSEO_reader.html#qubiter.EchoingSEO_reader.EchoingSEO_reader" title="qubiter.EchoingSEO_reader.EchoingSEO_reader"><code class="xref py py-class docutils literal notranslate"><span class="pre">qubiter.EchoingSEO_reader.EchoingSEO_reader</span></code></a></p>
<p>Most chips are not fully connected (not all pairs of qubits are
physically connected). Furthermore, even if two qubits are connected,
one of them may be disallowed, forbidden, as a target of a CNOT between
the 2 qubits. This class is designed to circumvent this chip limitation.</p>
<p>This class is a child of the class EchoingSEO_reader. It is one of
several expander classes that replace certain single gates by expansions
(sequences) of other gates.</p>
<p>The class reads an English file and outputs a new English file and
corresponding Picture file. The new English file echoes every line of
the original English file except for those lines which are SIGX with one
or more controls.</p>
<p>If this class reads a line which is a SIGX with &gt; 1 controls, it outputs
an error message. In such a case, you should use the class CGateExpander
first to expand such gates into single qubit rotations and simple CNOTs
with a single control.</p>
<p>If this class reads a line which is a SIGX with a single control,
it echoes it if such a CNOT is allowed according to the input list
‘c_to_tars’. Otherwise, it replaces the disallowed (a.k.a., forbidden,
unphysical, between disconnected qubits) CNOT by a sequence of Hadamards
and allowed, elementary CNOTs.</p>
<p>Next we explain the expansion used by this class to replace forbidden
CNOTs.</p>
<p>Let us denote a CNot with control a and target b by C(a-&gt;b)=C(a, b)</p>
<p>Note that if C(a, b) is forbidden but C(b, a) is allowed, we can express
the forbidden one in terms of the allowed one and four Hadamard matrices
using the identity (X is the target SIGX and &#64; is the True control)</p>
<p>X—&#64;
equals
H   H
&#64;—X
H   H</p>
<p>Note that</p>
<p>X—+—&#64;
equals
X—&#64;   |
|   X—&#64;
X—&#64;   |
|   X—&#64;
equals
|   X—&#64;
X—&#64;   |
|   X—&#64;
X—&#64;   |</p>
<p>One can generalize the previous identity as follows:</p>
<p>X—+—+—&#64;
equals
X—+—&#64;   |
|   |   X—&#64;
X—+—&#64;   |
|   |   X—&#64;
equals
|   X—&#64;   |
X—&#64;   |   |
|   X—&#64;   |
X—&#64;   |   |
|   |   X—&#64;
X—&#64;   |   |
|   X—&#64;   |
X—&#64;   |   |
|   X—&#64;   |
|   |   X—&#64;
equals (cancel two internal CNots)
|   X—&#64;   |
X—&#64;   |   |
|   X—&#64;   |
|   |   X—&#64;
|   X—&#64;   |
X—&#64;   |   |
|   X—&#64;   |
|   |   X—&#64;</p>
<p>One can generalize the previous identity as follows:</p>
<p>X—+—+—+—&#64;
equals
|   |   X—&#64;   |
|   X—&#64;   |   |
X—&#64;   |   |   |
|   X—&#64;   |   |
|   |   X—&#64;   |
|   |   |   X—&#64;
|   |   X—&#64;   |
|   X—&#64;   |   |
X—&#64;   |   |   |
|   X—&#64;   |   |
|   |   X—&#64;   |
|   |   |   X—&#64;</p>
<p>In general, let’s define a composite V gate (called V because it looks
like a V lying on its side) as follows:</p>
<p>V(0-&gt;4) =
|   |   |   X—&#64;
|   |   X—&#64;   |
|   X—&#64;   |   |
X—&#64;   |   |   |
|   X—&#64;   |   |
|   |   X—&#64;   |
|   |   |   X—&#64;</p>
<p>Above, 0, 1, 2, 3, 4 can be replaced by any other distinct qubits. Also,
on can define an analogous V for any number &gt;= 2 of qubits.</p>
<p>If
C(0-&gt;4)=
X—+—+—+—&#64;
then we proved above that</p>
<p>C(0-&gt;4)= V(0-&gt;4)V(1-&gt;4)</p>
<p>In fact, we also proved</p>
<p>C(0-&gt;j)= V(0-&gt;j)V(1-&gt;j) for j = 2, 3, 4, …</p>
<p>We like to refer to the last equation as the vv expansion of C(0-&gt;j). In
this class, we expand a forbidden CNot C(trol-&gt;targ) using the last
equation with the qubit positions 0, 1, 2, …, j in the last equation
mapped in a 1-1 onto fashion to qubit positions along a path of qubits
connecting the two qubits trol and targ. The path is found by calling
the python networkx function that yields the shortest path between two
nodes of an undirected graph G. We let G be the undirected graph that
has as edges all pairs of qubits that are coupled according to the input
<cite>c_to_tars</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c_to_tars</strong> (<em>dict</em><em>[</em><em>int</em><em>, </em><em>list</em><em>[</em><em>int</em><em>]</em><em>]</em>) – a dictionary mapping j in range(num_bits) to a list, possibly empty,
of the physically allowed targets of qubit j, when j is the control
of a CNOT.</p></li>
<li><p><strong>graph</strong> (<em>networkx.Graph</em>) – A networkx undirected graph derived from <cite>c_to_tars</cite> by taking all
items in get_dir_edges_from_c_to_tars(c_to_tars) as edges.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="qubiter.device_specific.ForbiddenCNotExpander.ForbiddenCNotExpander.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">file_prefix</em>, <em class="sig-param">num_bits</em>, <em class="sig-param">c_to_tars</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/qubiter/device_specific/ForbiddenCNotExpander.html#ForbiddenCNotExpander.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qubiter.device_specific.ForbiddenCNotExpander.ForbiddenCNotExpander.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructor</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_prefix</strong> (<em>str</em>) – </p></li>
<li><p><strong>num_bits</strong> (<em>int</em>) – </p></li>
<li><p><strong>c_to_tars</strong> (<em>dict</em><em>[</em><em>int</em><em>, </em><em>list</em><em>[</em><em>int</em><em>]</em><em>]</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="qubiter.device_specific.ForbiddenCNotExpander.ForbiddenCNotExpander.edge_type">
<code class="sig-name descname">edge_type</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/qubiter/device_specific/ForbiddenCNotExpander.html#ForbiddenCNotExpander.edge_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qubiter.device_specific.ForbiddenCNotExpander.ForbiddenCNotExpander.edge_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns 0 if C(x-&gt;y) and C(y-&gt;x) are both allowed.
Returns 1 if C(x-&gt;y) but not C(y-&gt;x) are allowed
Returns -1 if C(y-&gt;x) but not C(x-&gt;y) are allowed
Returns error message if neither is allowed</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>int</em>) – </p></li>
<li><p><strong>y</strong> (<em>int</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="qubiter.device_specific.ForbiddenCNotExpander.ForbiddenCNotExpander.get_symbolic_vv_expansion">
<code class="sig-name descname">get_symbolic_vv_expansion</code><span class="sig-paren">(</span><em class="sig-param">trol_pos</em>, <em class="sig-param">targ_pos</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/qubiter/device_specific/ForbiddenCNotExpander.html#ForbiddenCNotExpander.get_symbolic_vv_expansion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qubiter.device_specific.ForbiddenCNotExpander.ForbiddenCNotExpander.get_symbolic_vv_expansion" title="Permalink to this definition">¶</a></dt>
<dd><p>This function returns a list called <cite>expansion</cite>. The items in
<cite>expansion</cite> can be either a tuple (int, int) or a tuple (int,
bool). A tuple (c, t): (int, int) signifies a CNot with control c
and target t.  A tuple (k, keep): (int, bool) signifies a Hadamard
matrix at qubit k and whether to keep it or not–not if it cancels
another Hadamard. This symbolic expansion is supposed to replace a
CNot trol_pos-&gt;targ_pos.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>trol_pos</strong> (<em>int</em>) – </p></li>
<li><p><strong>targ_pos</strong> (<em>int</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list[tuple(int, int)|tuple(int, bool)]</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="qubiter.device_specific.ForbiddenCNotExpander.ForbiddenCNotExpander.use_SIG">
<code class="sig-name descname">use_SIG</code><span class="sig-paren">(</span><em class="sig-param">axis</em>, <em class="sig-param">tar_bit_pos</em>, <em class="sig-param">controls</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/qubiter/device_specific/ForbiddenCNotExpander.html#ForbiddenCNotExpander.use_SIG"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#qubiter.device_specific.ForbiddenCNotExpander.ForbiddenCNotExpander.use_SIG" title="Permalink to this definition">¶</a></dt>
<dd><p>This function overrides echoing function in parent class
EchoingSEO_reader.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axis</strong> (<em>int</em>) – </p></li>
<li><p><strong>tar_bit_pos</strong> (<em>int</em>) – </p></li>
<li><p><strong>controls</strong> (<a class="reference internal" href="qubiter.Controls.html#qubiter.Controls.Controls" title="qubiter.Controls.Controls"><em>Controls</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Robert R. Tucci &amp; Qubiter contributors

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>